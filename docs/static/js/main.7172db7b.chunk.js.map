{"version":3,"sources":["components/NavigationBar.tsx","actions/index.ts","pages/SettingsPage.tsx","common/index.ts","common/Reviewer.ts","components/ModalCard.tsx","components/TodoCards.tsx","pages/TodoPage.tsx","pages/App.tsx","api/Codeforces.ts","api/AtCoder.ts","api/Yukicoder.ts","api/AOJ.ts","common/LocalStorage.ts","sagas/index.ts","common/PooledTask.ts","initialize.ts","reducers/index.ts","index.tsx"],"names":["NavigationBar","react","Navbar","color","light","expand","NavbarBrand","tag","RouterLink","to","Nav","className","navbar","NavItem","NavLink","UncontrolledDropdown","nav","inNavbar","DropdownToggle","caret","DropdownMenu","right","DropdownItem","href","target","SUBMIT_TASK","REMOVE_TASK","SAVE_USERNAME","SOLVE_TASK","receiveProblems","problems","type","receiveSubmissions","submissions","clearSubmissions","SettingsPage","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","atcoder","userIds","yukicoder","codeforces","aoj","_this2","_this$state","isSaved","Row","FormGroup","Label","Input","onChange","e","setState","value","placeholder","Button","disabled","onClick","save","React","connect","dispatch","saveUsername","formatDate","timeSecond","d","Date","year","getFullYear","month","getMonth","slice","date","getDate","concat","daysToSeconds","days","parseDate","dateString","parseInt","setFullYear","setMonth","setDate","getTime","ModalCard","modalSolvedDate","modalReviewDate","isModalOpen","modalType","nowSecond","now","_this$props","title","url","taskKey","lastJudgeAccepted","lastSolvedByUser","nextReviewTime","judge","durationSeconds","lastSolvedTimeSecond","reviewResult","currentTime","span","duration","Math","max","getReviewDuration","solvedDate","reviewDate","outDated","ListGroup","ListGroupItem","ListGroupItemHeading","Badge","Table","scope","style","ButtonGroup","key","Modal","isOpen","toggle","ModalHeader","ModalBody","ModalFooter","remove","solvedSecond","reviewSecond","review","tasks","removeTask","solve","solveTask","valueSeq","sort","a","b","map","task","problem","validUrl","get","undefined","Col","components_ModalCard","TodoPage","setSuggestions","input","words","toLocaleLowerCase","split","filter","word","length","suggestions","index","every","indexOf","toArray","focusing","submit","isAccepted","list","find","s","result","onKeyDown","min","active","action","pill","components_TodoCards","App","react_router_dom","components_NavigationBar","Container","react_router","exact","path","component","fetchCodeforcesSubmissions","userId","from","arguments","count","fetch","then","r","json","payload","List","contestId","id","author","members","handle","verdict","problemUrl","creationTimeSecond","fetchCodeforcesProblems","p","name","fetchAtCoderSubmissions","submission","contest_id","user_id","problem_id","epoch_second","fetchAtCoderProblems","fetchYukicoderProblems","No","Title","fetchYukicoderSolvedProblems","fetchAOJProblems","page","size","fetchAOJSubmissions","problemId","judgeId","language","submissionDate","saveUserIds","localStorage","setItem","JSON","stringify","loadUserIds","item","getItem","parse","saveTasks","loadTasks","Map","requestProblems","requestSubmissions","rootSaga","regenerator_default","wrap","_context5","prev","next","all","fork","mark","_callee","_context","sent","put","Actions","stop","_callee2","_context2","_callee3","_context3","_callee4","_context4","_marked","_context10","select","_callee5","_context6","_callee6","_context7","_callee7","_context8","_callee8","_context9","_marked2","_context12","takeLatest","_callee9","_context11","LocalStorage","_marked3","_context14","_callee10","_context13","_marked4","_context15","_marked5","isValidUrl","URL","_unused","initialize","taskReducer","set","createdAt","createTask","oldTask","newTask","objectSpread","rootReducer","console","log","userIdsReducer","mergeWith","reduce","update","push","clear","submissionReducer","merge","problemsReducer","refineTask","sagaMiddleware","createSagaMiddleware","store","createStore","compose","applyMiddleware","run","ReactDOM","render","react_default","createElement","es","pages_App","document","getElementById"],"mappings":"kQAyDeA,EA3CO,kBACpBC,EAAA,cAACC,EAAA,EAAD,CAAQC,MAAM,QAAQC,OAAK,EAACC,OAAO,MACjCJ,EAAA,cAACK,EAAA,EAAD,CAAaC,IAAKC,IAAYC,GAAG,KAAjC,gBAGAR,EAAA,cAACS,EAAA,EAAD,CAAKC,UAAU,UAAUC,QAAM,GAC7BX,EAAA,cAACY,EAAA,EAAD,KACEZ,EAAA,cAACa,EAAA,EAAD,CAASP,IAAKC,IAAYC,GAAG,aAA7B,aAIFR,EAAA,cAACc,EAAA,EAAD,CAAsBC,KAAG,EAACC,UAAQ,GAChChB,EAAA,cAACiB,EAAA,EAAD,CAAgBF,KAAG,EAACG,OAAK,GAAzB,SAGAlB,EAAA,cAACmB,EAAA,EAAD,CAAcC,OAAK,GACjBpB,EAAA,cAACqB,EAAA,EAAD,CACEC,KAAK,2CACLC,OAAO,UAFT,UAMAvB,EAAA,cAACqB,EAAA,EAAD,CACEC,KAAK,oCACLC,OAAO,UAFT,OAMAvB,EAAA,cAACqB,EAAA,EAAD,CAAcC,KAAK,sBAAsBC,OAAO,UAAhD,WAGAvB,EAAA,cAACqB,EAAA,EAAD,CAAcC,KAAK,0BAA0BC,OAAO,UAApD,cAGAvB,EAAA,cAACqB,EAAA,EAAD,CAAcC,KAAK,wBAAwBC,OAAO,UAAlD,mHC5CGC,EAAc,cACdC,EAAc,cAEdC,EAAgB,gBAIhBC,EAAa,aAYbC,EAAkB,SAACC,GAAD,MAA8B,CAC3DC,KAlB8B,mBAmB9BD,aAcWE,EAAqB,SAACC,GAAD,MAAoC,CACpEF,KA/BiC,sBAgCjCE,gBAGWC,EAAmB,iBAAO,CACrCH,KAnC+B,sBCS3BI,cACJ,SAAAA,EAAYC,GAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACxBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CACXC,QAAST,EAAMU,QAAQD,QACvBE,UAAWX,EAAMU,QAAQC,UACzBC,WAAYZ,EAAMU,QAAQE,WAC1BC,IAAKb,EAAMU,QAAQG,KANGZ,wEAUjB,IAAAa,EAAAV,KAAAW,EACyCX,KAAKI,MAA7CC,EADDM,EACCN,QAASG,EADVG,EACUH,WAAYD,EADtBI,EACsBJ,UAAWE,EADjCE,EACiCF,IAClCG,EACJP,IAAYL,KAAKJ,MAAMU,QAAQD,SAC/BG,IAAeR,KAAKJ,MAAMU,QAAQE,YAClCD,IAAcP,KAAKJ,MAAMU,QAAQC,WACjCE,IAAQT,KAAKJ,MAAMU,QAAQG,IAC7B,OACEhD,EAAA,yBACEA,EAAA,cAACoD,EAAA,EAAD,KACEpD,EAAA,cAACqD,EAAA,EAAD,KACErD,EAAA,cAACsD,EAAA,EAAD,mBACAtD,EAAA,cAACuD,EAAA,EAAD,CACEC,SAAU,SAAAC,GAAC,OAAIR,EAAKS,SAAS,CAAEd,QAASa,EAAElC,OAAOoC,SACjD7B,KAAK,OACL8B,YAAY,aACZD,MAAOf,MAIb5C,EAAA,cAACoD,EAAA,EAAD,KACEpD,EAAA,cAACqD,EAAA,EAAD,KACErD,EAAA,cAACsD,EAAA,EAAD,eACAtD,EAAA,cAACuD,EAAA,EAAD,CACEC,SAAU,SAAAC,GAAC,OAAIR,EAAKS,SAAS,CAAEV,IAAKS,EAAElC,OAAOoC,SAC7C7B,KAAK,OACL8B,YAAY,SACZD,MAAOX,MAIbhD,EAAA,cAACoD,EAAA,EAAD,KACEpD,EAAA,cAACqD,EAAA,EAAD,KACErD,EAAA,cAACsD,EAAA,EAAD,qBACAtD,EAAA,cAACuD,EAAA,EAAD,CACEC,SAAU,SAAAC,GAAC,OAAIR,EAAKS,SAAS,CAAEZ,UAAWW,EAAElC,OAAOoC,SACnD7B,KAAK,OACL8B,YAAY,eACZD,MAAOb,MAIb9C,EAAA,cAACoD,EAAA,EAAD,KACEpD,EAAA,cAACqD,EAAA,EAAD,KACErD,EAAA,cAACsD,EAAA,EAAD,sBACAtD,EAAA,cAACuD,EAAA,EAAD,CACEC,SAAU,SAAAC,GAAC,OAAIR,EAAKS,SAAS,CAAEX,WAAYU,EAAElC,OAAOoC,SACpD7B,KAAK,OACL8B,YAAY,gBACZD,MAAOZ,MAIb/C,EAAA,cAACoD,EAAA,EAAD,KACGD,EACCnD,EAAA,cAAC6D,EAAA,EAAD,CAAQC,UAAQ,GAAhB,SAEA9D,EAAA,cAAC6D,EAAA,EAAD,CACE3D,MAAM,SACN6D,QAAS,kBACPd,EAAKd,MAAM6B,KAAK,CAAEpB,UAASG,aAAYD,YAAWE,UAHtD,iBApEeiB,aA0FZC,cAPS,SAACvB,GAAD,MAAmB,CACzCE,QAASF,EAAME,UAEU,SAACsB,GAAD,MAAyB,CAClDH,KAAM,SAACnB,GAAD,OAAsBsB,ED9EF,SAACtB,GAAD,MAAuB,CACjDf,KAAMJ,EACNmB,WC4EqCuB,CAAavB,OAGrCqB,CAGbhC,iGC5FWmC,EAAa,SAACC,GACzB,IAAMC,EAAI,IAAIC,KAAkB,IAAbF,GACbG,EAAOF,EAAEG,cACTC,GAAS,KAAOJ,EAAEK,WAAa,IAAIC,OAAO,GAC1CC,GAAQ,IAAMP,EAAEQ,WAAWF,OAAO,GACxC,SAAAG,OAAUP,EAAV,KAAAO,OAAkBL,EAAlB,KAAAK,OAA2BF,ICvBvBG,EAAgB,SAACC,GAAD,OAAyB,GAAPA,EAAY,MCqC9CC,EAAY,SAACC,GACjB,IAAMX,EAAOY,SAASD,EAAWP,MAAM,EAAG,IACpCF,EAAQU,SAASD,EAAWP,MAAM,EAAG,IACrCC,EAAOO,SAASD,EAAWP,MAAM,EAAG,KACpCN,EAAI,IAAIC,KAId,OAHAD,EAAEe,YAAYb,GACdF,EAAEgB,SAASZ,EAAQ,GACnBJ,EAAEiB,QAAQV,GACHP,EAAEkB,UAAY,KAuNRC,eAnNb,SAAAA,EAAYvD,GAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmD,IACxBtD,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqD,GAAAhD,KAAAH,KAAMJ,KACDQ,MAAQ,CACXgD,gBAAiB,KACjBC,gBAAiB,KACjBC,aAAa,EACbC,UAAW,UANW1D,wEASjB,IAAAa,EAAAV,KAAAW,EAMHX,KAAKI,MAJPkD,EAFK3C,EAEL2C,YACAC,EAHK5C,EAGL4C,UACAH,EAJKzC,EAILyC,gBACAC,EALK1C,EAKL0C,gBAEIG,EAAYvB,KAAKwB,MAAQ,IAPxBC,EAgBH1D,KAAKJ,MAPP+D,EATKD,EASLC,MACAC,EAVKF,EAULE,IACAC,EAXKH,EAWLG,QACAC,EAZKJ,EAYLI,kBACAC,EAbKL,EAaLK,iBACAC,EAdKN,EAcLM,eACAC,EAfKP,EAeLO,MAEIC,EACU,WAAdX,ED1E2B,SAC/BY,EACAC,GAEA,IAAMC,EAAcpC,KAAKwB,MACnBa,EAAOH,EACTE,EAAc,IAAOF,EACrB,EACEI,EAAWC,KAAKC,IAAIH,EAAM5B,EAAc,IAC9C,OAAQ0B,GACN,IAAK,SACH,OAAOI,KAAKC,IAAe,EAAXF,EAAc7B,EAAc,IAC9C,IAAK,OACH,OAAO8B,KAAKC,IAAIF,EAAU7B,EAAc,IAC1C,IAAK,OACH,OAAO8B,KAAKC,IAAIF,EAAW,EAAG7B,EAAc,IAC9C,IAAK,SACH,OAAOA,EAAc,IC0DjBgC,CAAkBX,EAAkBR,IACnC,EACDoB,EACgB,OAApBvB,EAA2BA,EAAkBtB,EAAW0B,GACpDoB,EACgB,OAApBvB,EACIA,EACAvB,EAAW0B,EAAYU,GACvBW,EAAW/C,EAAW0B,IAAc1B,EAAWkC,GACrD,OACEvG,EAAA,cAACqH,EAAA,EAAD,KACErH,EAAA,cAACsH,EAAA,EAAD,KACEtH,EAAA,cAACuH,EAAA,EAAD,KACGrB,GAASC,GAAOK,EACfxG,EAAA,yBACEA,EAAA,cAACwH,EAAA,EAAD,KAAQhB,GAAe,IACvBxG,EAAA,mBAAGsB,KAAM6E,EAAK5E,OAAO,UAClB2E,IAILE,GAGJpG,EAAA,cAACyH,EAAA,EAAD,KACEzH,EAAA,2BAEIA,EAAA,wBACEA,EAAA,oBAAI0H,MAAM,OAAV,eACCN,EACCpH,EAAA,oBAAI2H,MAAO,CAAEzH,MAAO,QAClBF,EAAA,gCAAUqE,EAAWkC,KAGvBvG,EAAA,wBAAKqE,EAAWkC,KAIA,OAArBD,EACCtG,EAAA,wBACEA,EAAA,oBAAI0H,MAAM,OAAV,eACA1H,EAAA,wBAAKqE,EAAWiC,KAEhB,KACmB,OAAtBD,EACCrG,EAAA,wBACEA,EAAA,oBAAI0H,MAAM,OAAV,iBACA1H,EAAA,wBAAKqE,EAAWgC,KAEhB,OAIRrG,EAAA,cAAC4H,EAAA,EAAD,CAAalH,UAAU,8BACrBV,EAAA,cAAC6D,EAAA,EAAD,CACEgE,IAAI,SACJ3H,MAAM,UACN6D,QAAS,kBACPd,EAAKS,SAAS,CACZmC,aAAa,EACbC,UAAW,aANjB,UAYA9F,EAAA,cAAC6D,EAAA,EAAD,CACEgE,IAAI,OACJ9D,QAAS,kBACPd,EAAKS,SAAS,CACZmC,aAAa,EACbC,UAAW,WALjB,QAWA9F,EAAA,cAAC6D,EAAA,EAAD,CACEgE,IAAI,OACJ3H,MAAM,UACN6D,QAAS,kBACPd,EAAKS,SAAS,CACZmC,aAAa,EACbC,UAAW,WANjB,QAYA9F,EAAA,cAAC6D,EAAA,EAAD,CACEgE,IAAI,SACJ3H,MAAM,SACN6D,QAAS,kBACPd,EAAKS,SAAS,CACZmC,aAAa,EACbC,UAAW,aANjB,UAYA9F,EAAA,cAAC6D,EAAA,EAAD,CACEgE,IAAI,SACJ3H,MAAM,OACN6D,QAAS,kBACPd,EAAKS,SAAS,CACZmC,aAAa,EACbC,UAAW,aANjB,WAaF9F,EAAA,cAAC8H,EAAA,EAAD,CACEC,OAAQlC,EACRmC,OAAQ,kBAAM/E,EAAKS,SAAS,CAAEmC,aAAcA,MAE7B,WAAdC,EACC9F,EAAA,yBACEA,EAAA,cAACiI,EAAA,EAAD,0BACAjI,EAAA,cAACkI,EAAA,EAAD,KAAYhC,GAAgBE,GAC5BpG,EAAA,cAACmI,EAAA,EAAD,KACEnI,EAAA,cAAC6D,EAAA,EAAD,CACEE,QAAS,WACPd,EAAKS,SAAS,CAAEmC,aAAa,IAC7B5C,EAAKd,MAAMiG,WAHf,UAQApI,EAAA,cAAC6D,EAAA,EAAD,CAAQE,QAAS,kBAAMd,EAAKS,SAAS,CAAEmC,aAAa,MAApD,YAMJ7F,EAAA,yBACEA,EAAA,cAACiI,EAAA,EAAD,gCACAjI,EAAA,cAACkI,EAAA,EAAD,KACElI,EAAA,cAACqD,EAAA,EAAD,KACErD,EAAA,cAACsD,EAAA,EAAD,gBACAtD,EAAA,cAACuD,EAAA,EAAD,CACEzB,KAAK,OACL6B,MAAOuD,EACP1D,SAAU,SAAAC,GAAC,OACTR,EAAKS,SAAS,CAAEiC,gBAAiBlC,EAAElC,OAAOoC,YAIhD3D,EAAA,cAACsD,EAAA,EAAD,qBACAtD,EAAA,cAACuD,EAAA,EAAD,CACEzB,KAAK,OACL6B,MAAOwD,EACP3D,SAAU,SAAAC,GAAC,OACTR,EAAKS,SAAS,CAAEkC,gBAAiBnC,EAAElC,OAAOoC,YAIhD3D,EAAA,cAACmI,EAAA,EAAD,KACEnI,EAAA,cAAC6D,EAAA,EAAD,CACEE,QAAS,WACPd,EAAKS,SAAS,CAAEmC,aAAa,IAC7B,IAAMwC,EAAelD,EAAU+B,GACzBoB,EAAenD,EAAUgC,GAC/BlE,EAAKd,MAAMoG,OAAOF,EAAcC,KALpC,UAUAtI,EAAA,cAAC6D,EAAA,EAAD,CAAQE,QAAS,kBAAMd,EAAKS,SAAS,CAAEmC,aAAa,MAApD,sBAvMM5B,aCYTC,eAXS,SAACvB,GAAD,MAAmB,CACzC6F,MAAO7F,EAAM6F,MACbxG,YAAaW,EAAMX,YACnBH,SAAUc,EAAMd,WAES,SAACsC,GAAD,MAAyB,CAClDiE,OAAQ,SAACP,GAAD,OAAiB1D,ELvCD,SAAC0D,GAAD,MAAkB,CAC1C/F,KAAML,EACNoG,OKqCkCY,CAAWZ,KAC7Ca,MAAO,SAACb,EAAaQ,EAAsBC,GAApC,OACLnE,ELXqB,SACvB0D,EACAQ,EACAC,GAHuB,MAInB,CACJxG,KAAMH,EACNkG,MACAQ,eACAC,gBKGWK,CAAUd,EAAKQ,EAAcC,OAG3BpE,CA5CG,SAAC/B,GAAD,OAChBnC,EAAA,yBACGmC,EAAMqG,MACJI,WACAC,KAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEvC,eAAiBwC,EAAExC,iBACpCyC,IAAI,SAAAC,GACH,IAAMC,EAAUD,EAAKE,SACjBhH,EAAMN,SAASuH,IAAIH,EAAKE,eACxBE,EACIhD,EAAwD4C,EAAxD5C,kBAAmBC,EAAqC2C,EAArC3C,iBAAkBC,EAAmB0C,EAAnB1C,eAC7C,OACEvG,EAAA,cAACoD,EAAA,EAAD,CAAKyE,IAAKoB,EAAKpB,KACb7H,EAAA,cAACsJ,EAAA,EAAD,KACEtJ,EAAA,cAACuJ,GAAD,CACEnD,QAAS6C,EAAKpB,IACd1B,IAAK8C,EAAKE,SACVjD,MAAOgD,EAAUA,EAAQhD,MAAQ,KACjCG,kBAAmBA,EACnBC,iBAAkBA,EAClBC,eAAgBA,EAChB6B,OAAQ,kBAAMjG,EAAMiG,OAAOa,EAAKpB,MAChCU,OAAQ,SAACrB,EAAoBC,GAArB,OACNhF,EAAMuG,MAAMO,EAAKpB,IAAKX,EAAYC,IAEpCX,MAAO0C,EAAUA,EAAQ1C,MAAQ,cCpB3CgD,eACJ,SAAAA,EAAYrH,GAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiH,IACxBpH,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmH,GAAA9G,KAAAH,KAAMJ,KAQRsH,eAAiB,SAACC,GAChB,IAAMC,EAAQD,EACXE,oBACAC,MAAM,KACNC,OAAO,SAAAC,GAAI,OAAIA,EAAKC,OAAS,IAChC,GAAIL,EAAMK,OAAS,EAAG,CACpB,IAAMC,EAAc7H,EAAKD,MAAMN,SAC5B+G,WACAkB,OAAO,SAAAZ,GACN,IAAMgB,GACJhB,EAAQhD,MACR,IACAgD,EAAQ/C,IACR,IACA+C,EAAQ1C,OACRoD,oBACF,OAAOD,EAAMQ,MAAM,SAAAJ,GAAI,OAA6B,IAAzBG,EAAME,QAAQL,OAE1ClF,MAAM,EAAG,IACTwF,UACHjI,EAAKsB,SAAS,CAAEuG,cAAaK,UAAW,SAExClI,EAAKsB,SAAS,CAAEuG,YAAa,GAAIK,UAAW,KA/BtBlI,EAmC1BmI,OAAS,SAAC1C,GACRzF,EAAKD,MAAMoI,OAAO1C,GAClBzF,EAAKsB,SAAS,CACZgG,MAAO,GACPO,YAAa,GACbK,UAAW,KAtCblI,EAAKO,MAAQ,CACX+G,MAAO,GACPO,YAAa,GACbK,UAAW,GALWlI,wEA4CjB,IAAAa,EAAAV,KAAAW,EAC2BX,KAAKI,MAA/BsH,EADD/G,EACC+G,YAAaK,EADdpH,EACcoH,SACbtI,EAAgBO,KAAKJ,MAArBH,YACFwI,EAAa,SAACtB,GAClB,IAAMuB,EAAOzI,EAAYoH,IAAIF,EAAQ/C,KACrC,YACWkD,IAAToB,QAC4CpB,IAA5CoB,EAAKC,KAAK,SAAAC,GAAC,MAAiB,aAAbA,EAAEC,UAIrB,OACE5K,EAAA,yBACEA,EAAA,cAACoD,EAAA,EAAD,KACEpD,EAAA,cAACsJ,EAAA,EAAD,KACEtJ,EAAA,cAACuD,EAAA,EAAD,CACEsH,UAAW,SAAApH,GACK,UAAVA,EAAEoE,IACA,GAAKyC,GAAYA,EAAWL,EAAYD,OAC1C/G,EAAKsH,OAAON,EAAYK,GAAUnE,KAElClD,EAAKsH,OAAOtH,EAAKN,MAAM+G,OAEN,cAAVjG,EAAEoE,IACX5E,EAAKS,SAAS,CACZ4G,SAAUvD,KAAK+D,IAAIR,EAAW,EAAGL,EAAYD,OAAS,KAErC,YAAVvG,EAAEoE,KACX5E,EAAKS,SAAS,CACZ4G,SAAUvD,KAAKC,IAAIsD,EAAW,GAAI,MAIxCxI,KAAK,OACL0B,SAAU,SAAAC,GACR,IAAMiG,EAAQjG,EAAElC,OAAOoC,MACvBV,EAAKS,SAAS,CAAEgG,UAChBzG,EAAKwG,eAAeC,IAEtB/F,MAAOpB,KAAKI,MAAM+G,UAIxB1J,EAAA,cAACoD,EAAA,EAAD,KACEpD,EAAA,cAACsJ,EAAA,EAAD,KACEtJ,EAAA,cAACqH,EAAA,EAAD,KACG9E,KAAKI,MAAMsH,YAAYjB,IAAI,SAACE,EAASgB,GAAV,OAC1BlK,EAAA,cAACsH,EAAA,EAAD,CACEpH,MAAOsK,EAAWtB,GAAW,eAAYG,EACzC0B,OAAQb,IAAUI,EAClBzC,IAAKqB,EAAQ/C,IACbpC,QAAS,kBAAMd,EAAKsH,OAAOrB,EAAQ/C,MACnC6E,QAAM,GAEL9B,EAAQhD,MAPX,IAOkBlG,EAAA,cAACwH,EAAA,EAAD,CAAOyD,MAAI,GAAE/B,EAAQ1C,aAM/CxG,EAAA,cAACkL,GAAD,cAzGejH,aAwHRC,eATS,SAACvB,GAAD,MAAmB,CACzCd,SAAUc,EAAMd,SAChBG,YAAaW,EAAMX,cAGM,SAACmC,GAAD,MAAyB,CAClDoG,OAAQ,SAACrB,GAAD,OAAqB/E,EN9Ha,CAC1CrC,KAAMN,EACN2E,IM4HiD+C,OAGpChF,CAGbsF,IC5Ha2B,GAdH,kBACVnL,EAAA,cAACoL,EAAA,EAAD,KACEpL,EAAA,cAACqL,EAAD,MACArL,EAAA,cAACsL,EAAA,EAAD,KACEtL,EAAA,cAACuL,EAAA,EAAD,KACEvL,EAAA,cAACuL,EAAA,EAAD,KACEvL,EAAA,cAACuL,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWlC,KACjCxJ,EAAA,cAACuL,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,YAAYC,UAAWxJ,sDCXtCyJ,GAA6B,SACxCC,GADwC,IAExCC,EAFwCC,UAAA9B,OAAA,QAAAX,IAAAyC,UAAA,GAAAA,UAAA,GAEzB,EACfC,EAHwCD,UAAA9B,OAAA,QAAAX,IAAAyC,UAAA,GAAAA,UAAA,GAGxB,IAHwB,OAKxCE,MAAK,iDAAAhH,OAC8C4G,EAD9C,UAAA5G,OAC6D6G,EAD7D,WAAA7G,OAC2E+G,IAE7EE,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KACC,SAACG,GAAD,OAgBEC,aACED,EAAQxB,OAAO5B,IAAI,SAAA2B,GAAC,MAAK,CACvBxE,IAAG,kCAAAnB,OAAoC2F,EAAEzB,QAAQoD,UAA9C,gBAAAtH,OAAsE2F,EAAE4B,IAC3EX,OAAQjB,EAAE6B,OAAOC,QAAQ,GAAGC,OAC5B9B,OAAsB,OAAdD,EAAEgC,QAAmB,WAAa,WAC1CC,WAAU,kCAAA5H,OAAoC2F,EAAEzB,QAAQoD,UAA9C,aAAAtH,OAAmE2F,EAAEzB,QAAQgB,OACvF2C,mBAAoBlC,EAAEkC,0BAKrBC,GAA0B,kBACrCd,MAAM,kDACHC,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KACC,SAACG,GAAD,OAUEC,aACED,EAAQxB,OAAO/I,SAASmH,IAAI,SAAA+D,GAAC,MAAK,CAChC5G,IAAG,kCAAAnB,OAAoC+H,EAAET,UAAtC,aAAAtH,OAA2D+H,EAAE7C,OAChEhE,MAAO6G,EAAEC,KACTxG,MAAO,oBCvDNyG,GAA0B,SAACrB,GAAD,OACrCI,MAAK,yDAAAhH,OAA0D4G,IAC5DK,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KACC,SAACjK,GAAD,OACEqK,aACErK,EAAYgH,IAAI,SAAAkE,GAAU,MAAK,CAC7B/G,IAAG,+BAAAnB,OAAiCkI,EAAWC,WAA5C,iBAAAnI,OAAsEkI,EAAWX,IACpFX,OAAQsB,EAAWE,QACnBxC,OAA8B,OAAtBsC,EAAWtC,OAAkB,WAAa,WAClDgC,WAAU,+BAAA5H,OAAiCkI,EAAWC,WAA5C,WAAAnI,OAAgEkI,EAAWG,YACrFR,mBAAoBK,EAAWI,oBAI9BC,GAAuB,kBAClCvB,MAAM,wDACHC,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KACC,SAACpK,GAAD,OACEwK,aACExK,EAASmH,IAAI,SAAAE,GAAO,MAAK,CACvB/C,IAAG,+BAAAnB,OAAiCkE,EAAQiE,WAAzC,WAAAnI,OAA6DkE,EAAQqD,IACxErG,MAAOgD,EAAQhD,MACfM,MAAO,iBCxBNgH,GAAyB,kBACpCxB,MAAM,wCACHC,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KACC,SACEpK,GADF,OAGEwK,aACExK,EAASmH,IAAI,SAAAE,GAAO,MAAK,CACvB/C,IAAG,oCAAAnB,OAAsCkE,EAAQuE,IACjDvH,MAAK,MAAAlB,OAAQkE,EAAQuE,GAAhB,KAAAzI,OAAsBkE,EAAQwE,OACnClH,MAAO,mBAKNmH,GAA+B,SAAC/B,GAAD,OAC1CI,MAAK,2CAAAhH,OAA4C4G,IAC9CK,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KACC,SACEpK,GADF,OAGEwK,aACExK,EAASmH,IAAI,SAAAE,GAAO,MAAK,CACvB/C,IAAG,oCAAAnB,OAAsCkE,EAAQuE,IACjD7B,OAAQA,EACRhB,OAAQ,WACRgC,WAAU,oCAAA5H,OAAsCkE,EAAQuE,IACxDZ,mBAAoB,YC7BnBe,GAAmB,eAACC,EAAD/B,UAAA9B,OAAA,QAAAX,IAAAyC,UAAA,GAAAA,UAAA,GAAgB,EAAGgC,EAAnBhC,UAAA9B,OAAA,QAAAX,IAAAyC,UAAA,GAAAA,UAAA,GAAkC,IAAlC,OAC9BE,MAAK,+CAAAhH,OAAgD6I,EAAhD,UAAA7I,OAA6D8I,IAC/D7B,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KACC,SACEpK,GADF,OAMEwK,aACExK,EAASmH,IAAI,SAAAE,GAAO,MAAK,CACvB/C,IAAG,6CAAAnB,OAA+CkE,EAAQqD,IAC1DrG,MAAK,GAAAlB,OAAKkE,EAAQqD,GAAb,MAAAvH,OAAoBkE,EAAQ8D,MACjCxG,MAAO,aAKNuH,GAAsB,SACjCnC,GADiC,IAEjCiC,EAFiC/B,UAAA9B,OAAA,QAAAX,IAAAyC,UAAA,GAAAA,UAAA,GAElB,EACfgC,EAHiChC,UAAA9B,OAAA,QAAAX,IAAAyC,UAAA,GAAAA,UAAA,GAGlB,IAHkB,OAKjCE,MAAK,iDAAAhH,OAC8C4G,EAD9C,UAAA5G,OAC6D6I,EAD7D,UAAA7I,OAC0E8I,IAE5E7B,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KACC,SACEjK,GADF,OASEqK,aACErK,EAAYgH,IAAI,SAAAkE,GAAU,MAAK,CAC7B/G,IAAG,sDAAAnB,OAAwDkI,EAAWc,UAAnE,YAAAhJ,OAAuFkI,EAAWe,QAAlG,KAAAjJ,OAA6GkI,EAAWtB,OAAxH,KAAA5G,OAAkIkI,EAAWgB,UAChJtB,WAAU,6CAAA5H,OAA+CkI,EAAWc,WACpEpC,OAAQsB,EAAWtB,OACnBhB,OAAQ,WACRiC,mBAAoBK,EAAWiB,eAAiB,WCxC/CC,GAAc,SAACvL,GAAD,OACzBwL,aAAaC,QAJE,WAIgBC,KAAKC,UAAU3L,KAEnC4L,GAAc,WACzB,IAAMC,EAAOL,aAAaM,QAPX,YAQf,OAAa,OAATD,EACK,CAAE9L,QAAS,GAAIG,WAAY,GAAID,UAAW,GAAIE,IAAK,IAEnDuL,KAAKK,MAAMF,IAITG,GAAY,SAACrG,GAAD,OACvB6F,aAAaC,QAfD,QAegBC,KAAKC,UAAUhG,KAChCsG,GAAY,WACvB,IAAMJ,EAAOL,aAAaM,QAjBd,SAkBZ,OAAa,OAATD,EACKK,eAEAA,aAAwBR,KAAKK,MAAMF,kBCXpCM,iBAqBAC,iBAwCAb,iBAQAS,iBAaeK,IAlFzB,SAAUF,KAAV,OAAAG,GAAArG,EAAAsG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACE,OADFF,EAAAE,KAAA,EACQC,aAAI,CACRC,aAAIN,GAAArG,EAAA4G,KAAC,SAAAC,IAAA,IAAA9N,EAAA,OAAAsN,GAAArG,EAAAsG,KAAA,SAAAQ,GAAA,cAAAA,EAAAN,KAAAM,EAAAL,MAAA,OACc,OADdK,EAAAL,KAAA,EACoB7M,aAAK6K,IADzB,OAEH,OADM1L,EADH+N,EAAAC,KAAAD,EAAAL,KAAA,EAEGO,aAAIC,EAAwBlO,IAF/B,wBAAA+N,EAAAI,SAAAL,MAILF,aAAIN,GAAArG,EAAA4G,KAAC,SAAAO,IAAA,IAAApO,EAAA,OAAAsN,GAAArG,EAAAsG,KAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,OACc,OADdW,EAAAX,KAAA,EACoB7M,aAAKoK,IADzB,OAEH,OADMjL,EADHqO,EAAAL,KAAAK,EAAAX,KAAA,EAEGO,aAAIC,EAAwBlO,IAF/B,wBAAAqO,EAAAF,SAAAC,MAILR,aAAIN,GAAArG,EAAA4G,KAAC,SAAAS,IAAA,IAAAtO,EAAA,OAAAsN,GAAArG,EAAAsG,KAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,OACc,OADda,EAAAb,KAAA,EACoB7M,aAAK8K,IADzB,OAEH,OADM3L,EADHuO,EAAAP,KAAAO,EAAAb,KAAA,EAEGO,aAAIC,EAAwBlO,IAF/B,wBAAAuO,EAAAJ,SAAAG,MAILV,aAAIN,GAAArG,EAAA4G,KAAC,SAAAW,IAAA,IAAAxO,EAAA,OAAAsN,GAAArG,EAAAsG,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,OACc,OADde,EAAAf,KAAA,EACoB7M,aAAKkL,IADzB,OAEH,OADM/L,EADHyO,EAAAT,KAAAS,EAAAf,KAAA,EAEGO,aAAIC,EAAwBlO,IAF/B,wBAAAyO,EAAAN,SAAAK,QAdT,wBAAAhB,EAAAW,SAAAO,IAqBA,SAAUtB,KAAV,IAAApM,EAAA,OAAAsM,GAAArG,EAAAsG,KAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,OACE,OADFiB,EAAAjB,KAAA,EACQO,aAAIC,KADZ,OAEkB,OAFlBS,EAAAjB,KAAA,EAEwBkB,aAAO,SAAC9N,GAAD,OAAkBA,EAAME,UAFvD,OAGE,OADMA,EAFR2N,EAAAX,KAAAW,EAAAjB,KAAA,EAGQC,aAAI,CACRC,aAAIN,GAAArG,EAAA4G,KAAC,SAAAgB,IAAA,IAAA1O,EAAA,OAAAmN,GAAArG,EAAAsG,KAAA,SAAAuB,GAAA,cAAAA,EAAArB,KAAAqB,EAAApB,MAAA,YACC1M,EAAQE,WAAWiH,OAAS,GAD7B,CAAA2G,EAAApB,KAAA,QAEmB,OAFnBoB,EAAApB,KAAA,EAEyB7M,aACxBiJ,GACA9I,EAAQE,YAJT,OAMD,OAJMf,EAFL2O,EAAAd,KAAAc,EAAApB,KAAA,EAMKO,aAAIC,EAA2B/N,IANpC,wBAAA2O,EAAAX,SAAAU,MASLjB,aAAIN,GAAArG,EAAA4G,KAAC,SAAAkB,IAAA,IAAA5O,EAAA,OAAAmN,GAAArG,EAAAsG,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,YACC1M,EAAQD,QAAQoH,OAAS,GAD1B,CAAA6G,EAAAtB,KAAA,QAEmB,OAFnBsB,EAAAtB,KAAA,EAEyB7M,aACxBuK,GACApK,EAAQD,SAJT,OAMD,OAJMZ,EAFL6O,EAAAhB,KAAAgB,EAAAtB,KAAA,EAMKO,aAAIC,EAA2B/N,IANpC,wBAAA6O,EAAAb,SAAAY,MASLnB,aAAIN,GAAArG,EAAA4G,KAAC,SAAAoB,IAAA,IAAA9O,EAAA,OAAAmN,GAAArG,EAAAsG,KAAA,SAAA2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAAxB,MAAA,YACC1M,EAAQC,UAAUkH,OAAS,GAD5B,CAAA+G,EAAAxB,KAAA,QAEmB,OAFnBwB,EAAAxB,KAAA,EAEyB7M,aACxBiL,GACA9K,EAAQC,WAJT,OAMD,OAJMd,EAFL+O,EAAAlB,KAAAkB,EAAAxB,KAAA,EAMKO,aAAIC,EAA2B/N,IANpC,wBAAA+O,EAAAf,SAAAc,MASLrB,aAAIN,GAAArG,EAAA4G,KAAC,SAAAsB,IAAA,IAAAhP,EAAA,OAAAmN,GAAArG,EAAAsG,KAAA,SAAA6B,GAAA,cAAAA,EAAA3B,KAAA2B,EAAA1B,MAAA,YACC1M,EAAQG,IAAIgH,OAAS,GADtB,CAAAiH,EAAA1B,KAAA,QAEmB,OAFnB0B,EAAA1B,KAAA,EAEyB7M,aAAKqL,GAAqBlL,EAAQG,KAF3D,OAGD,OADMhB,EAFLiP,EAAApB,KAAAoB,EAAA1B,KAAA,EAGKO,aAAIC,EAA2B/N,IAHpC,wBAAAiP,EAAAjB,SAAAgB,QA/BT,wBAAAR,EAAAR,SAAAkB,IAwCA,SAAU9C,KAAV,OAAAe,GAAArG,EAAAsG,KAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5B,MAAA,OACE,OADF4B,EAAA5B,KAAA,EACQ6B,aAAWrB,EAADZ,GAAArG,EAAA4G,KAAwB,SAAA2B,IAAA,IAAAxO,EAAA,OAAAsM,GAAArG,EAAAsG,KAAA,SAAAkC,GAAA,cAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,OACtB,OADsB+B,EAAA/B,KAAA,EAChBkB,aAAO,SAAC9N,GAAD,OAAkBA,EAAME,UADf,OAEtC,OADMA,EADgCyO,EAAAzB,KAAAyB,EAAA/B,KAAA,EAEhC7M,aAAK6O,GAA0B1O,GAFC,OAGtC,OAHsCyO,EAAA/B,KAAA,EAGhC7M,aAAKuM,IAH2B,wBAAAqC,EAAAtB,SAAAqB,MAD1C,wBAAAF,EAAAnB,SAAAwB,IAQA,SAAU3C,KAAV,OAAAM,GAAArG,EAAAsG,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,OACE,OADFkC,EAAAlC,KAAA,EACQ6B,aACJ,SAACpG,GAAD,OACEA,EAAOlJ,OAASiO,GAChB/E,EAAOlJ,OAASiO,GAChB/E,EAAOlJ,OAASiO,GAJJZ,GAAArG,EAAA4G,KAKd,SAAAgC,IAAA,IAAAlJ,EAAA,OAAA2G,GAAArG,EAAAsG,KAAA,SAAAuC,GAAA,cAAAA,EAAArC,KAAAqC,EAAApC,MAAA,OACgB,OADhBoC,EAAApC,KAAA,EACsBkB,aAAO,SAAC9N,GAAD,OAAkBA,EAAM6F,QADrD,OAEE,OADMA,EADRmJ,EAAA9B,KAAA8B,EAAApC,KAAA,EAEQ7M,aAAK6O,GAAwB/I,GAFrC,wBAAAmJ,EAAA3B,SAAA0B,MANJ,wBAAAD,EAAAzB,SAAA4B,IAae,SAAU1C,KAAV,OAAAC,GAAArG,EAAAsG,KAAA,SAAAyC,GAAA,cAAAA,EAAAvC,KAAAuC,EAAAtC,MAAA,OACb,OADasC,EAAAtC,KAAA,EACPC,aAAI,CACRC,aAAKT,IACLS,aAAKR,IACLQ,aAAKrB,IACLqB,aAAKZ,MALM,wBAAAgD,EAAA7B,SAAA8B,mCC3ETC,GAAa,SAAC5L,GAClB,IAEE,OADA,IAAI6L,IAAI7L,IACD,EACP,MAAA8L,GACA,OAAO,IChBIC,GAPI,iBAAc,CAC/B1J,MAAO+I,KACP1O,QAAS0O,KACTvP,YAAa+M,eACblN,SAAUkN,iBCQNoD,GAAc,WAGf,IAFHxP,EAEGmJ,UAAA9B,OAAA,QAAAX,IAAAyC,UAAA,GAAAA,UAAA,GAF8BiD,eACjC/D,EACGc,UAAA9B,OAAA,EAAA8B,UAAA,QAAAzC,EACH,OAAQ2B,EAAOlJ,MACb,KAAKL,EAAa,IACRoG,EAAQmD,EAARnD,IACR,OAAOlF,EAAMyF,OAAOP,GAEtB,KAAKrG,EAAa,IACR2E,EAAQ6E,EAAR7E,IACR,OAAOxD,EAAMyP,IAAIjM,EFlBG,SAACuD,GACzB,IAAMP,EAAW4I,GAAWrI,GAASA,EAAQ,KACvC2I,EAAY7N,KAAKwB,MAAQ,IAC/B,MAAO,CACL6B,IAAK6B,EACLP,WACAkJ,YACA9L,eAAgB8L,EAChBhM,kBAAmB,KACnBC,iBAAkB,MESMgM,CAAWnM,IAEnC,KAAKxE,EAAY,IACPkG,EAAoCmD,EAApCnD,IAAKQ,EAA+B2C,EAA/B3C,aAAcC,EAAiB0C,EAAjB1C,aACrBiK,EAAU5P,EAAMyG,IAAIvB,GAC1B,GAAI0K,EAAS,CACX,IAAMC,EAAOnQ,OAAAoQ,GAAA,EAAApQ,CAAA,GACRkQ,EADQ,CAEXjM,iBAAkB+B,EAClB9B,eAAgB+B,IAElB,OAAO3F,EAAMyP,IAAIvK,EAAK2K,GAEtB,OAAO7P,EAGX,QACE,OAAOA,IAiGE+P,GAVK,WAAwD,IAAvD/P,EAAuDmJ,UAAA9B,OAAA,QAAAX,IAAAyC,UAAA,GAAAA,UAAA,GAAxCoG,KAAclH,EAA0Bc,UAAA9B,OAAA,EAAA8B,UAAA,QAAAzC,EAC1EsJ,QAAQC,IAAI5H,GACZ,IAAMnI,EApFe,WAQlB,IAPHF,EAOGmJ,UAAA9B,OAAA,QAAAX,IAAAyC,UAAA,GAAAA,UAAA,GAPc,CACflJ,QAAS,GACTG,WAAY,GACZD,UAAW,GACXE,IAAK,IAEPgI,EACGc,UAAA9B,OAAA,EAAA8B,UAAA,QAAAzC,EACH,OAAQ2B,EAAOlJ,MACb,KAAKJ,EACH,OAAOsJ,EAAOnI,QAEhB,QACE,OAAOF,GAsEKkQ,CAAelQ,EAAME,QAASmI,GACxChJ,EAlEkB,WAGrB,IAFHW,EAEGmJ,UAAA9B,OAAA,QAAAX,IAAAyC,UAAA,GAAAA,UAAA,GAFoCiD,eACvC/D,EACGc,UAAA9B,OAAA,EAAA8B,UAAA,QAAAzC,EACH,OAAQ2B,EAAOlJ,MACb,IhBhE+B,sBgBgEL,IAChBE,EAAgBgJ,EAAhBhJ,YACR,OAAOW,EAAMmQ,UACX,SAAChK,EAAGC,GAAJ,OAAUD,EAAE9D,OAAO+D,IACnB/G,EAAY+Q,OACV,SAAC/J,EAAKkE,GAAN,OACElE,EAAIgK,OAAO9F,EAAWN,WAAYP,eAAQ,SAAA5B,GAAI,OAC5CA,EAAKwI,KAAK/F,MAEd6B,iBAIN,IhB5E6B,oBgB6E3B,OAAOpM,EAAMuQ,QAEf,QACE,OAAOvQ,GA4CSwQ,CAAkBxQ,EAAMX,YAAagJ,GACnDnJ,EAzCgB,WAGnB,IAFHc,EAEGmJ,UAAA9B,OAAA,QAAAX,IAAAyC,UAAA,GAAAA,UAAA,GAF2BiD,eAC9B/D,EACGc,UAAA9B,OAAA,EAAA8B,UAAA,QAAAzC,EACH,OAAQ2B,EAAOlJ,MACb,IhB7F4B,mBgB6FL,IACbD,EAAamJ,EAAbnJ,SACR,OAAOc,EAAMyQ,MAAMvR,EAASmH,IAAI,SAAAE,GAAO,MAAI,CAACA,EAAQ/C,IAAK+C,MAE3D,QACE,OAAOvG,GA+BM0Q,CAAgB1Q,EAAMd,SAAUmJ,GAGjD,MAAO,CAAExC,MAFK2J,GAAYxP,EAAM6F,MAAOwC,GACZhC,IAAI,SAAAC,GAAI,OA5BlB,SACjBA,EACAjH,GAEA,GAAsB,OAAlBiH,EAAKE,SACP,OAAOF,EAET,IAAMwB,EAAOzI,EAAYoH,IAAIH,EAAKE,UAClC,QAAaE,IAAToB,EACF,OAAOxB,EAET,IAAM5C,EAAoBoE,EACvBX,OAAO,SAAAa,GAAC,MAAiB,aAAbA,EAAEC,QAAkD,OAAzBD,EAAEkC,qBACzC7D,IAAI,SAAA2B,GAAC,OAAIA,EAAEkC,qBACX7F,MACH,OAAIX,EACKhE,OAAAoQ,GAAA,EAAApQ,CAAA,GAAK4G,EAAZ,CAAkB5C,sBAEX4C,EAU8BqK,CAAWrK,EAAMjH,KAC1Ba,UAASb,cAAaH,aChIhD0R,GAAiBC,eACjBC,GAAQC,aACZhB,GACAiB,aAAQC,aAAgBL,MAE1BA,GAAeM,IAAI3E,IAEnB4E,IAASC,OACPC,EAAAlL,EAAAmL,cAACC,EAAA,EAAD,CAAUT,MAAOA,IACfO,EAAAlL,EAAAmL,cAACE,GAAD,OAEFC,SAASC,eAAe","file":"static/js/main.7172db7b.chunk.js","sourcesContent":["import {\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  Nav,\n  Navbar,\n  NavbarBrand,\n  NavItem,\n  NavLink,\n  UncontrolledDropdown\n} from \"reactstrap\";\nimport * as React from \"react\";\nimport { NavLink as RouterLink } from \"react-router-dom\";\n\nconst NavigationBar = () => (\n  <Navbar color=\"light\" light expand=\"md\">\n    <NavbarBrand tag={RouterLink} to=\"/\">\n      Problem Pool\n    </NavbarBrand>\n    <Nav className=\"ml-auto\" navbar>\n      <NavItem>\n        <NavLink tag={RouterLink} to=\"/settings\">\n          Settings\n        </NavLink>\n      </NavItem>\n      <UncontrolledDropdown nav inNavbar>\n        <DropdownToggle nav caret>\n          Links\n        </DropdownToggle>\n        <DropdownMenu right>\n          <DropdownItem\n            href=\"https://github.com/kenkoooo/problem-pool\"\n            target=\"_blank\"\n          >\n            GitHub\n          </DropdownItem>\n          <DropdownItem\n            href=\"https://onlinejudge.u-aizu.ac.jp/\"\n            target=\"_blank\"\n          >\n            AOJ\n          </DropdownItem>\n          <DropdownItem href=\"https://atcoder.jp/\" target=\"_blank\">\n            AtCoder\n          </DropdownItem>\n          <DropdownItem href=\"https://codeforces.com/\" target=\"_blank\">\n            Codeforces\n          </DropdownItem>\n          <DropdownItem href=\"https://yukicoder.me/\" target=\"_blank\">\n            yukicoder\n          </DropdownItem>\n        </DropdownMenu>\n      </UncontrolledDropdown>\n    </Nav>\n  </Navbar>\n);\n\nexport default NavigationBar;\n","import { List } from \"immutable\";\nimport { Problem, Submission } from \"../api\";\nimport { OnlineJudge, UserIds } from \"../common\";\n\nexport const SUBMIT_TASK = \"SUBMIT_TASK\";\nexport const REMOVE_TASK = \"REMOVE_TASK\";\nexport const RECEIVE_PROBLEMS = \"RECEIVE_PROBLEMS\";\nexport const SAVE_USERNAME = \"SAVE_USERNAME\";\nexport const REQUEST_SUBMISSIONS = \"REQUEST_SUBMISSIONS\";\nexport const RECEIVE_SUBMISSIONS = \"RECEIVE_SUBMISSIONS\";\nexport const CLEAR_SUBMISSIONS = \"CLEAR_SUBMISSIONS\";\nexport const SOLVE_TASK = \"SOLVE_TASK\";\n\nexport const submitTask = (url: string) => ({\n  type: SUBMIT_TASK as typeof SUBMIT_TASK,\n  url\n});\n\nexport const removeTask = (key: string) => ({\n  type: REMOVE_TASK as typeof REMOVE_TASK,\n  key\n});\n\nexport const receiveProblems = (problems: List<Problem>) => ({\n  type: RECEIVE_PROBLEMS as typeof RECEIVE_PROBLEMS,\n  problems\n});\n\nexport const saveUsername = (userIds: UserIds) => ({\n  type: SAVE_USERNAME as typeof SAVE_USERNAME,\n  userIds\n});\n\nexport const requestSubmissions = (userId: string, judge: OnlineJudge) => ({\n  type: REQUEST_SUBMISSIONS as typeof REQUEST_SUBMISSIONS,\n  userId,\n  judge\n});\n\nexport const receiveSubmissions = (submissions: List<Submission>) => ({\n  type: RECEIVE_SUBMISSIONS as typeof RECEIVE_SUBMISSIONS,\n  submissions\n});\n\nexport const clearSubmissions = () => ({\n  type: CLEAR_SUBMISSIONS as typeof CLEAR_SUBMISSIONS\n});\n\nexport const solveTask = (\n  key: string,\n  solvedSecond: number,\n  reviewSecond: number\n) => ({\n  type: SOLVE_TASK as typeof SOLVE_TASK,\n  key,\n  solvedSecond,\n  reviewSecond\n});\n\nexport type Action =\n  | ReturnType<typeof submitTask>\n  | ReturnType<typeof removeTask>\n  | ReturnType<typeof receiveProblems>\n  | ReturnType<typeof saveUsername>\n  | ReturnType<typeof receiveSubmissions>\n  | ReturnType<typeof requestSubmissions>\n  | ReturnType<typeof clearSubmissions>\n  | ReturnType<typeof solveTask>;\n","import { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport * as React from \"react\";\nimport { Button, FormGroup, Input, Label, Row } from \"reactstrap\";\nimport { saveUsername } from \"../actions\";\nimport { State, UserIds } from \"../common\";\n\ninterface Props {\n  readonly save: (userIds: UserIds) => void;\n  readonly userIds: UserIds;\n}\n\ninterface LocalState {\n  atcoder: string;\n  codeforces: string;\n  yukicoder: string;\n  aoj: string;\n}\n\nclass SettingsPage extends React.Component<Props, LocalState> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      atcoder: props.userIds.atcoder,\n      yukicoder: props.userIds.yukicoder,\n      codeforces: props.userIds.codeforces,\n      aoj: props.userIds.aoj\n    };\n  }\n\n  render() {\n    const { atcoder, codeforces, yukicoder, aoj } = this.state;\n    const isSaved =\n      atcoder === this.props.userIds.atcoder &&\n      codeforces === this.props.userIds.codeforces &&\n      yukicoder === this.props.userIds.yukicoder &&\n      aoj === this.props.userIds.aoj;\n    return (\n      <div>\n        <Row>\n          <FormGroup>\n            <Label>AtCoder ID</Label>\n            <Input\n              onChange={e => this.setState({ atcoder: e.target.value })}\n              type=\"text\"\n              placeholder=\"AtCoder ID\"\n              value={atcoder}\n            />\n          </FormGroup>\n        </Row>\n        <Row>\n          <FormGroup>\n            <Label>AOJ ID</Label>\n            <Input\n              onChange={e => this.setState({ aoj: e.target.value })}\n              type=\"text\"\n              placeholder=\"AOJ ID\"\n              value={aoj}\n            />\n          </FormGroup>\n        </Row>\n        <Row>\n          <FormGroup>\n            <Label>yukicoder ID</Label>\n            <Input\n              onChange={e => this.setState({ yukicoder: e.target.value })}\n              type=\"text\"\n              placeholder=\"yukicoder ID\"\n              value={yukicoder}\n            />\n          </FormGroup>\n        </Row>\n        <Row>\n          <FormGroup>\n            <Label>Codeforces ID</Label>\n            <Input\n              onChange={e => this.setState({ codeforces: e.target.value })}\n              type=\"text\"\n              placeholder=\"Codeforces ID\"\n              value={codeforces}\n            />\n          </FormGroup>\n        </Row>\n        <Row>\n          {isSaved ? (\n            <Button disabled>Saved</Button>\n          ) : (\n            <Button\n              color=\"danger\"\n              onClick={() =>\n                this.props.save({ atcoder, codeforces, yukicoder, aoj })\n              }\n            >\n              Save\n            </Button>\n          )}\n        </Row>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: State) => ({\n  userIds: state.userIds\n});\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  save: (userIds: UserIds) => dispatch(saveUsername(userIds))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SettingsPage);\n","import { List, Map } from \"immutable\";\nimport { Problem, Submission } from \"../api\";\nimport { PooledTask } from \"./PooledTask\";\n\nexport type OnlineJudge = \"AtCoder\" | \"Codeforces\" | \"yukicoder\" | \"AOJ\";\n\nexport interface UserIds {\n  readonly atcoder: string;\n  readonly codeforces: string;\n  readonly aoj: string;\n  readonly yukicoder: string;\n}\n\nexport interface State {\n  readonly tasks: Map<string, PooledTask>;\n  readonly userIds: UserIds;\n  readonly submissions: Map<string, List<Submission>>;\n  readonly problems: Map<string, Problem>;\n}\n\nexport const formatDate = (timeSecond: number) => {\n  const d = new Date(timeSecond * 1000);\n  const year = d.getFullYear();\n  const month = (\"0\" + (d.getMonth() + 1)).slice(-2);\n  const date = (\"0\" + d.getDate()).slice(-2);\n  return `${year}-${month}-${date}`;\n};\n","export type ReviewResult = \"Solved\" | \"Good\" | \"Hard\" | \"Failed\";\n\nconst daysToSeconds = (days: number) => days * 24 * 3600;\n\nexport const getReviewDuration = (\n  lastSolvedTimeSecond: number | null,\n  reviewResult: ReviewResult\n) => {\n  const currentTime = Date.now();\n  const span = lastSolvedTimeSecond\n    ? currentTime / 1000 - lastSolvedTimeSecond\n    : 0;\n  const duration = Math.max(span, daysToSeconds(1));\n  switch (reviewResult) {\n    case \"Solved\":\n      return Math.max(duration * 2, daysToSeconds(4));\n    case \"Good\":\n      return Math.max(duration, daysToSeconds(4));\n    case \"Hard\":\n      return Math.max(duration / 2, daysToSeconds(4));\n    case \"Failed\":\n      return daysToSeconds(4);\n  }\n};\n","import * as React from \"react\";\nimport {\n  Badge,\n  Button,\n  ButtonGroup,\n  FormGroup,\n  Input,\n  Label,\n  ListGroup,\n  ListGroupItem,\n  ListGroupItemHeading,\n  Modal,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n  Table\n} from \"reactstrap\";\nimport { formatDate, OnlineJudge } from \"../common\";\nimport { getReviewDuration, ReviewResult } from \"../common/Reviewer\";\n\ninterface Props {\n  taskKey: string;\n  url: string | null;\n  title: string | null;\n  lastJudgeAccepted: number | null;\n  lastSolvedByUser: number | null;\n  nextReviewTime: number;\n  judge: OnlineJudge | null;\n  remove: () => void;\n  review: (solvedDate: number, reviewDate: number) => void;\n}\n\ninterface LocalState {\n  isModalOpen: boolean;\n  modalSolvedDate: string | null;\n  modalReviewDate: string | null;\n  modalType: ReviewResult | \"Remove\";\n}\n\nconst parseDate = (dateString: string) => {\n  const year = parseInt(dateString.slice(0, 4));\n  const month = parseInt(dateString.slice(5, 7));\n  const date = parseInt(dateString.slice(8, 10));\n  const d = new Date();\n  d.setFullYear(year);\n  d.setMonth(month - 1);\n  d.setDate(date);\n  return d.getTime() / 1000;\n};\n\nclass ModalCard extends React.Component<Props, LocalState> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      modalSolvedDate: null,\n      modalReviewDate: null,\n      isModalOpen: false,\n      modalType: \"Remove\"\n    };\n  }\n  render() {\n    const {\n      isModalOpen,\n      modalType,\n      modalSolvedDate,\n      modalReviewDate\n    } = this.state;\n    const nowSecond = Date.now() / 1000;\n    const {\n      title,\n      url,\n      taskKey,\n      lastJudgeAccepted,\n      lastSolvedByUser,\n      nextReviewTime,\n      judge\n    } = this.props;\n    const durationSeconds =\n      modalType !== \"Remove\"\n        ? getReviewDuration(lastSolvedByUser, modalType)\n        : -1;\n    const solvedDate =\n      modalSolvedDate !== null ? modalSolvedDate : formatDate(nowSecond);\n    const reviewDate =\n      modalReviewDate !== null\n        ? modalReviewDate\n        : formatDate(nowSecond + durationSeconds);\n    const outDated = formatDate(nowSecond) >= formatDate(nextReviewTime);\n    return (\n      <ListGroup>\n        <ListGroupItem>\n          <ListGroupItemHeading>\n            {title && url && judge ? (\n              <div>\n                <Badge>{judge}</Badge>{\" \"}\n                <a href={url} target=\"_blank\">\n                  {title}\n                </a>\n              </div>\n            ) : (\n              taskKey\n            )}\n          </ListGroupItemHeading>\n          <Table>\n            <tbody>\n              {\n                <tr>\n                  <th scope=\"row\">Next review</th>\n                  {outDated ? (\n                    <td style={{ color: \"red\" }}>\n                      <strong> {formatDate(nextReviewTime)}</strong>\n                    </td>\n                  ) : (\n                    <td>{formatDate(nextReviewTime)}</td>\n                  )}\n                </tr>\n              }\n              {lastSolvedByUser !== null ? (\n                <tr>\n                  <th scope=\"row\">Last solved</th>\n                  <td>{formatDate(lastSolvedByUser)}</td>\n                </tr>\n              ) : null}\n              {lastJudgeAccepted !== null ? (\n                <tr>\n                  <th scope=\"row\">Last accepted</th>\n                  <td>{formatDate(lastJudgeAccepted)}</td>\n                </tr>\n              ) : null}\n            </tbody>\n          </Table>\n\n          <ButtonGroup className=\"d-flex justify-content-end\">\n            <Button\n              key=\"solved\"\n              color=\"success\"\n              onClick={() =>\n                this.setState({\n                  isModalOpen: true,\n                  modalType: \"Solved\"\n                })\n              }\n            >\n              Solved\n            </Button>\n            <Button\n              key=\"good\"\n              onClick={() =>\n                this.setState({\n                  isModalOpen: true,\n                  modalType: \"Good\"\n                })\n              }\n            >\n              Good\n            </Button>\n            <Button\n              key=\"hard\"\n              color=\"warning\"\n              onClick={() =>\n                this.setState({\n                  isModalOpen: true,\n                  modalType: \"Hard\"\n                })\n              }\n            >\n              Hard\n            </Button>\n            <Button\n              key=\"failed\"\n              color=\"danger\"\n              onClick={() =>\n                this.setState({\n                  isModalOpen: true,\n                  modalType: \"Failed\"\n                })\n              }\n            >\n              Failed\n            </Button>\n            <Button\n              key=\"remove\"\n              color=\"dark\"\n              onClick={() =>\n                this.setState({\n                  isModalOpen: true,\n                  modalType: \"Remove\"\n                })\n              }\n            >\n              Remove\n            </Button>\n          </ButtonGroup>\n          <Modal\n            isOpen={isModalOpen}\n            toggle={() => this.setState({ isModalOpen: !isModalOpen })}\n          >\n            {modalType === \"Remove\" ? (\n              <div>\n                <ModalHeader>Remove this card?</ModalHeader>\n                <ModalBody>{title ? title : taskKey}</ModalBody>\n                <ModalFooter>\n                  <Button\n                    onClick={() => {\n                      this.setState({ isModalOpen: false });\n                      this.props.remove();\n                    }}\n                  >\n                    Remove\n                  </Button>\n                  <Button onClick={() => this.setState({ isModalOpen: false })}>\n                    Cancel\n                  </Button>\n                </ModalFooter>\n              </div>\n            ) : (\n              <div>\n                <ModalHeader>Next review will be ...</ModalHeader>\n                <ModalBody>\n                  <FormGroup>\n                    <Label>Solved:</Label>\n                    <Input\n                      type=\"date\"\n                      value={solvedDate}\n                      onChange={e =>\n                        this.setState({ modalSolvedDate: e.target.value })\n                      }\n                    />\n                  </FormGroup>\n                  <Label>Next Review:</Label>\n                  <Input\n                    type=\"date\"\n                    value={reviewDate}\n                    onChange={e =>\n                      this.setState({ modalReviewDate: e.target.value })\n                    }\n                  />\n                </ModalBody>\n                <ModalFooter>\n                  <Button\n                    onClick={() => {\n                      this.setState({ isModalOpen: false });\n                      const solvedSecond = parseDate(solvedDate);\n                      const reviewSecond = parseDate(reviewDate);\n                      this.props.review(solvedSecond, reviewSecond);\n                    }}\n                  >\n                    Submit\n                  </Button>\n                  <Button onClick={() => this.setState({ isModalOpen: false })}>\n                    Cancel\n                  </Button>\n                </ModalFooter>\n              </div>\n            )}\n          </Modal>\n        </ListGroupItem>\n      </ListGroup>\n    );\n  }\n}\n\nexport default ModalCard;\n","import * as React from \"react\";\nimport { Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { List, Map } from \"immutable\";\nimport { PooledTask } from \"../common/PooledTask\";\nimport { State } from \"../common\";\nimport { removeTask, solveTask } from \"../actions\";\nimport { Col, Row } from \"reactstrap\";\nimport { Problem, Submission } from \"../api\";\nimport ModalCard from \"./ModalCard\";\n\ninterface Props {\n  tasks: Map<string, PooledTask>;\n  submissions: Map<string, List<Submission>>;\n  problems: Map<string, Problem>;\n  remove: (key: string) => void;\n  solve: (key: string, solvedSecond: number, reviewSecond: number) => void;\n}\nconst TodoCards = (props: Props) => (\n  <div>\n    {props.tasks\n      .valueSeq()\n      .sort((a, b) => a.nextReviewTime - b.nextReviewTime)\n      .map(task => {\n        const problem = task.validUrl\n          ? props.problems.get(task.validUrl)\n          : undefined;\n        const { lastJudgeAccepted, lastSolvedByUser, nextReviewTime } = task;\n        return (\n          <Row key={task.key}>\n            <Col>\n              <ModalCard\n                taskKey={task.key}\n                url={task.validUrl}\n                title={problem ? problem.title : null}\n                lastJudgeAccepted={lastJudgeAccepted}\n                lastSolvedByUser={lastSolvedByUser}\n                nextReviewTime={nextReviewTime}\n                remove={() => props.remove(task.key)}\n                review={(solvedDate: number, reviewDate: number) =>\n                  props.solve(task.key, solvedDate, reviewDate)\n                }\n                judge={problem ? problem.judge : null}\n              />\n            </Col>\n          </Row>\n        );\n      })}\n  </div>\n);\n\nconst mapStateToProps = (state: State) => ({\n  tasks: state.tasks,\n  submissions: state.submissions,\n  problems: state.problems\n});\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  remove: (key: string) => dispatch(removeTask(key)),\n  solve: (key: string, solvedSecond: number, reviewSecond: number) =>\n    dispatch(solveTask(key, solvedSecond, reviewSecond))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TodoCards);\n","import { connect } from \"react-redux\";\nimport { Badge, Col, Input, ListGroup, ListGroupItem, Row } from \"reactstrap\";\nimport * as React from \"react\";\nimport { submitTask } from \"../actions\";\nimport { Dispatch } from \"redux\";\nimport { List, Map } from \"immutable\";\nimport { Problem, Submission } from \"../api\";\nimport { State } from \"../common\";\nimport TodoCards from \"../components/TodoCards\";\n\ninterface Props {\n  readonly submit: (problem: string) => void;\n  readonly problems: Map<string, Problem>;\n  readonly submissions: Map<string, List<Submission>>;\n}\n\ninterface LocalState {\n  input: string;\n  suggestions: Problem[];\n  focusing: number;\n}\n\nclass TodoPage extends React.Component<Props, LocalState> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      input: \"\",\n      suggestions: [],\n      focusing: -1\n    };\n  }\n\n  setSuggestions = (input: string) => {\n    const words = input\n      .toLocaleLowerCase()\n      .split(\" \")\n      .filter(word => word.length > 0);\n    if (words.length > 0) {\n      const suggestions = this.props.problems\n        .valueSeq()\n        .filter(problem => {\n          const index = (\n            problem.title +\n            \" \" +\n            problem.url +\n            \" \" +\n            problem.judge\n          ).toLocaleLowerCase();\n          return words.every(word => index.indexOf(word) !== -1);\n        })\n        .slice(0, 10)\n        .toArray();\n      this.setState({ suggestions, focusing: -1 });\n    } else {\n      this.setState({ suggestions: [], focusing: -1 });\n    }\n  };\n\n  submit = (key: string) => {\n    this.props.submit(key);\n    this.setState({\n      input: \"\",\n      suggestions: [],\n      focusing: -1\n    });\n  };\n\n  render() {\n    const { suggestions, focusing } = this.state;\n    const { submissions } = this.props;\n    const isAccepted = (problem: Problem) => {\n      const list = submissions.get(problem.url);\n      return (\n        list !== undefined &&\n        list.find(s => s.result === \"Accepted\") !== undefined\n      );\n    };\n\n    return (\n      <div>\n        <Row>\n          <Col>\n            <Input\n              onKeyDown={e => {\n                if (e.key === \"Enter\") {\n                  if (0 <= focusing && focusing < suggestions.length) {\n                    this.submit(suggestions[focusing].url);\n                  } else {\n                    this.submit(this.state.input);\n                  }\n                } else if (e.key === \"ArrowDown\") {\n                  this.setState({\n                    focusing: Math.min(focusing + 1, suggestions.length - 1)\n                  });\n                } else if (e.key === \"ArrowUp\") {\n                  this.setState({\n                    focusing: Math.max(focusing - 1, -1)\n                  });\n                }\n              }}\n              type=\"text\"\n              onChange={e => {\n                const input = e.target.value;\n                this.setState({ input });\n                this.setSuggestions(input);\n              }}\n              value={this.state.input}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <ListGroup>\n              {this.state.suggestions.map((problem, index) => (\n                <ListGroupItem\n                  color={isAccepted(problem) ? \"success\" : undefined}\n                  active={index === focusing}\n                  key={problem.url}\n                  onClick={() => this.submit(problem.url)}\n                  action\n                >\n                  {problem.title} <Badge pill>{problem.judge}</Badge>\n                </ListGroupItem>\n              ))}\n            </ListGroup>\n          </Col>\n        </Row>\n        <TodoCards />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: State) => ({\n  problems: state.problems,\n  submissions: state.submissions\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  submit: (problem: string) => dispatch(submitTask(problem))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TodoPage);\n","import { HashRouter, Route, Switch } from \"react-router-dom\";\nimport NavigationBar from \"../components/NavigationBar\";\nimport * as React from \"react\";\nimport { Container } from \"reactstrap\";\nimport SettingsPage from \"./SettingsPage\";\nimport TodoPage from \"./TodoPage\";\n\nconst App = () => (\n  <HashRouter>\n    <NavigationBar />\n    <Container>\n      <Switch>\n        <Route>\n          <Route exact path=\"/\" component={TodoPage} />\n          <Route exact path=\"/settings\" component={SettingsPage} />\n        </Route>\n      </Switch>\n    </Container>\n  </HashRouter>\n);\n\nexport default App;\n","import { Problem, Submission } from \"./index\";\nimport { List } from \"immutable\";\n\nexport const fetchCodeforcesSubmissions = (\n  userId: string,\n  from: number = 1,\n  count: number = 100000\n) =>\n  fetch(\n    `https://codeforces.com/api/user.status?handle=${userId}&from=${from}&count=${count}`\n  )\n    .then(r => r.json())\n    .then(\n      (payload: {\n        result: {\n          id: number;\n          creationTimeSecond: number;\n          problem: {\n            contestId: number;\n            index: string;\n            name: string;\n          };\n          author: {\n            members: { handle: string }[];\n          };\n          programmingLanguage: string;\n          verdict: string;\n        }[];\n      }): List<Submission> =>\n        List(\n          payload.result.map(s => ({\n            url: `https://codeforces.com/contest/${s.problem.contestId}/submission/${s.id}`,\n            userId: s.author.members[0].handle,\n            result: s.verdict === \"OK\" ? \"Accepted\" : \"Rejected\",\n            problemUrl: `https://codeforces.com/contest/${s.problem.contestId}/problem/${s.problem.index}`,\n            creationTimeSecond: s.creationTimeSecond\n          }))\n        )\n    );\n\nexport const fetchCodeforcesProblems = () =>\n  fetch(\"https://codeforces.com/api/problemset.problems\")\n    .then(r => r.json())\n    .then(\n      (payload: {\n        result: {\n          problems: {\n            contestId: number;\n            index: string;\n            name: string;\n            points: number | undefined;\n          }[];\n        };\n      }): List<Problem> =>\n        List(\n          payload.result.problems.map(p => ({\n            url: `https://codeforces.com/contest/${p.contestId}/problem/${p.index}`,\n            title: p.name,\n            judge: \"Codeforces\"\n          }))\n        )\n    );\n","import { Problem, Submission } from \"./index\";\nimport { List } from \"immutable\";\n\nexport const fetchAtCoderSubmissions = (userId: string) =>\n  fetch(`https://kenkoooo.com/atcoder/atcoder-api/results?user=${userId}`)\n    .then(r => r.json())\n    .then(\n      (submissions: AtCoderSubmission[]): List<Submission> =>\n        List(\n          submissions.map(submission => ({\n            url: `https://atcoder.jp/contests/${submission.contest_id}/submissions/${submission.id}`,\n            userId: submission.user_id,\n            result: submission.result === \"AC\" ? \"Accepted\" : \"Rejected\",\n            problemUrl: `https://atcoder.jp/contests/${submission.contest_id}/tasks/${submission.problem_id}`,\n            creationTimeSecond: submission.epoch_second\n          }))\n        )\n    );\nexport const fetchAtCoderProblems = () =>\n  fetch(\"https://kenkoooo.com/atcoder/resources/problems.json\")\n    .then(r => r.json())\n    .then(\n      (problems: AtCoderProblem[]): List<Problem> =>\n        List(\n          problems.map(problem => ({\n            url: `https://atcoder.jp/contests/${problem.contest_id}/tasks/${problem.id}`,\n            title: problem.title,\n            judge: \"AtCoder\"\n          }))\n        )\n    );\n\ninterface AtCoderSubmission {\n  id: number;\n  epoch_second: number;\n  problem_id: string;\n  contest_id: string;\n  user_id: string;\n  result: string;\n}\n\ninterface AtCoderProblem {\n  title: string;\n  contest_id: string;\n  id: string;\n}\n","import { List } from \"immutable\";\nimport { Problem, Submission } from \"./index\";\n\nexport const fetchYukicoderProblems = () =>\n  fetch(\"https://yukicoder.me/api/v1/problems\")\n    .then(r => r.json())\n    .then(\n      (\n        problems: { No: number; ProblemId: number; Title: string }[]\n      ): List<Problem> =>\n        List(\n          problems.map(problem => ({\n            url: `https://yukicoder.me/problems/no/${problem.No}`,\n            title: `No.${problem.No} ${problem.Title}`,\n            judge: \"yukicoder\"\n          }))\n        )\n    );\n\nexport const fetchYukicoderSolvedProblems = (userId: string) =>\n  fetch(`https://yukicoder.me/api/v1/solved/name/${userId}`)\n    .then(r => r.json())\n    .then(\n      (\n        problems: { No: number; ProblemId: number; Title: string }[]\n      ): List<Submission> =>\n        List(\n          problems.map(problem => ({\n            url: `https://yukicoder.me/problems/no/${problem.No}`,\n            userId: userId,\n            result: \"Accepted\",\n            problemUrl: `https://yukicoder.me/problems/no/${problem.No}`,\n            creationTimeSecond: null\n          }))\n        )\n    );\n","import { List } from \"immutable\";\nimport { Problem, Submission } from \"./index\";\n\nexport const fetchAOJProblems = (page: number = 0, size: number = 10000) =>\n  fetch(`https://judgeapi.u-aizu.ac.jp/problems?page=${page}&size=${size}`)\n    .then(r => r.json())\n    .then(\n      (\n        problems: {\n          id: string;\n          name: string;\n        }[]\n      ): List<Problem> =>\n        List(\n          problems.map(problem => ({\n            url: `https://onlinejudge.u-aizu.ac.jp/problems/${problem.id}`,\n            title: `${problem.id}: ${problem.name}`,\n            judge: \"AOJ\"\n          }))\n        )\n    );\n\nexport const fetchAOJSubmissions = (\n  userId: string,\n  page: number = 0,\n  size: number = 100000\n) =>\n  fetch(\n    `https://judgeapi.u-aizu.ac.jp/solutions/users/${userId}?page=${page}&size=${size}`\n  )\n    .then(r => r.json())\n    .then(\n      (\n        submissions: {\n          judgeId: number;\n          submissionDate: number;\n          userId: string;\n          problemId: string;\n          language: string;\n        }[]\n      ): List<Submission> =>\n        List(\n          submissions.map(submission => ({\n            url: `https://onlinejudge.u-aizu.ac.jp/solutions/problem/${submission.problemId}/review/${submission.judgeId}/${submission.userId}/${submission.language}`,\n            problemUrl: `https://onlinejudge.u-aizu.ac.jp/problems/${submission.problemId}`,\n            userId: submission.userId,\n            result: \"Accepted\",\n            creationTimeSecond: submission.submissionDate / 1000\n          }))\n        )\n    );\n","import { UserIds } from \"./index\";\nimport { Map } from \"immutable\";\nimport { PooledTask } from \"./PooledTask\";\n\nconst USER_IDS = \"USER_IDS\";\nconst TASKS = \"TASKS\";\n\nexport const saveUserIds = (userIds: UserIds) =>\n  localStorage.setItem(USER_IDS, JSON.stringify(userIds));\n\nexport const loadUserIds = (): UserIds => {\n  const item = localStorage.getItem(USER_IDS);\n  if (item === null) {\n    return { atcoder: \"\", codeforces: \"\", yukicoder: \"\", aoj: \"\" };\n  } else {\n    return JSON.parse(item) as UserIds;\n  }\n};\n\nexport const saveTasks = (tasks: Map<string, PooledTask>) =>\n  localStorage.setItem(TASKS, JSON.stringify(tasks));\nexport const loadTasks = (): Map<string, PooledTask> => {\n  const item = localStorage.getItem(TASKS);\n  if (item === null) {\n    return Map<string, PooledTask>();\n  } else {\n    return Map<string, PooledTask>(JSON.parse(item));\n  }\n};\n","import { all, call, fork, put, select, takeLatest } from \"redux-saga/effects\";\nimport {\n  fetchCodeforcesProblems,\n  fetchCodeforcesSubmissions\n} from \"../api/Codeforces\";\nimport * as Actions from \"../actions\";\nimport { State } from \"../common\";\nimport { fetchAtCoderProblems, fetchAtCoderSubmissions } from \"../api/AtCoder\";\nimport {\n  fetchYukicoderProblems,\n  fetchYukicoderSolvedProblems\n} from \"../api/Yukicoder\";\nimport { fetchAOJProblems, fetchAOJSubmissions } from \"../api/AOJ\";\nimport * as LocalStorage from \"../common/LocalStorage\";\n\nfunction* requestProblems() {\n  yield all([\n    fork(function*() {\n      const problems = yield call(fetchAtCoderProblems);\n      yield put(Actions.receiveProblems(problems));\n    }),\n    fork(function*() {\n      const problems = yield call(fetchCodeforcesProblems);\n      yield put(Actions.receiveProblems(problems));\n    }),\n    fork(function*() {\n      const problems = yield call(fetchYukicoderProblems);\n      yield put(Actions.receiveProblems(problems));\n    }),\n    fork(function*() {\n      const problems = yield call(fetchAOJProblems);\n      yield put(Actions.receiveProblems(problems));\n    })\n  ]);\n}\n\nfunction* requestSubmissions() {\n  yield put(Actions.clearSubmissions());\n  const userIds = yield select((state: State) => state.userIds);\n  yield all([\n    fork(function*() {\n      if (userIds.codeforces.length > 0) {\n        const submissions = yield call(\n          fetchCodeforcesSubmissions,\n          userIds.codeforces\n        );\n        yield put(Actions.receiveSubmissions(submissions));\n      }\n    }),\n    fork(function*() {\n      if (userIds.atcoder.length > 0) {\n        const submissions = yield call(\n          fetchAtCoderSubmissions,\n          userIds.atcoder\n        );\n        yield put(Actions.receiveSubmissions(submissions));\n      }\n    }),\n    fork(function*() {\n      if (userIds.yukicoder.length > 0) {\n        const submissions = yield call(\n          fetchYukicoderSolvedProblems,\n          userIds.yukicoder\n        );\n        yield put(Actions.receiveSubmissions(submissions));\n      }\n    }),\n    fork(function*() {\n      if (userIds.aoj.length > 0) {\n        const submissions = yield call(fetchAOJSubmissions, userIds.aoj);\n        yield put(Actions.receiveSubmissions(submissions));\n      }\n    })\n  ]);\n}\n\nfunction* saveUserIds() {\n  yield takeLatest(Actions.SAVE_USERNAME, function*() {\n    const userIds = yield select((state: State) => state.userIds);\n    yield call(LocalStorage.saveUserIds, userIds);\n    yield call(requestSubmissions);\n  });\n}\n\nfunction* saveTasks() {\n  yield takeLatest(\n    (action: Actions.Action) =>\n      action.type === Actions.SUBMIT_TASK ||\n      action.type === Actions.REMOVE_TASK ||\n      action.type === Actions.SOLVE_TASK,\n    function*() {\n      const tasks = yield select((state: State) => state.tasks);\n      yield call(LocalStorage.saveTasks, tasks);\n    }\n  );\n}\n\nexport default function* rootSaga() {\n  yield all([\n    fork(requestProblems),\n    fork(requestSubmissions),\n    fork(saveUserIds),\n    fork(saveTasks)\n  ]);\n}\n","export interface PooledTask {\n  readonly key: string;\n  readonly validUrl: string | null;\n  readonly createdAt: number;\n  readonly nextReviewTime: number;\n  readonly lastJudgeAccepted: number | null;\n  readonly lastSolvedByUser: number | null;\n}\n\nexport const createTask = (input: string): PooledTask => {\n  const validUrl = isValidUrl(input) ? input : null;\n  const createdAt = Date.now() / 1000;\n  return {\n    key: input,\n    validUrl,\n    createdAt,\n    nextReviewTime: createdAt,\n    lastJudgeAccepted: null,\n    lastSolvedByUser: null\n  };\n};\n\nconst isValidUrl = (url: string): boolean => {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n};\n","import { State } from \"./common\";\nimport { Map } from \"immutable\";\nimport * as LocalStorage from \"./common/LocalStorage\";\n\nconst initialize = (): State => ({\n  tasks: LocalStorage.loadTasks(),\n  userIds: LocalStorage.loadUserIds(),\n  submissions: Map(),\n  problems: Map()\n});\n\nexport default initialize;\n","import {\n  Action,\n  CLEAR_SUBMISSIONS,\n  RECEIVE_PROBLEMS,\n  RECEIVE_SUBMISSIONS,\n  REMOVE_TASK,\n  SAVE_USERNAME,\n  SOLVE_TASK,\n  SUBMIT_TASK\n} from \"../actions\";\nimport { List, Map } from \"immutable\";\nimport { State, UserIds } from \"../common\";\nimport { createTask, PooledTask } from \"../common/PooledTask\";\nimport { Problem, Submission } from \"../api\";\nimport initialize from \"../initialize\";\n\nconst taskReducer = (\n  state: Map<string, PooledTask> = Map(),\n  action: Action\n) => {\n  switch (action.type) {\n    case REMOVE_TASK: {\n      const { key } = action;\n      return state.remove(key);\n    }\n    case SUBMIT_TASK: {\n      const { url } = action;\n      return state.set(url, createTask(url));\n    }\n    case SOLVE_TASK: {\n      const { key, solvedSecond, reviewSecond } = action;\n      const oldTask = state.get(key);\n      if (oldTask) {\n        const newTask = {\n          ...oldTask,\n          lastSolvedByUser: solvedSecond,\n          nextReviewTime: reviewSecond\n        };\n        return state.set(key, newTask);\n      } else {\n        return state;\n      }\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nconst userIdsReducer = (\n  state: UserIds = {\n    atcoder: \"\",\n    codeforces: \"\",\n    yukicoder: \"\",\n    aoj: \"\"\n  },\n  action: Action\n) => {\n  switch (action.type) {\n    case SAVE_USERNAME: {\n      return action.userIds;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nconst submissionReducer = (\n  state: Map<string, List<Submission>> = Map(),\n  action: Action\n) => {\n  switch (action.type) {\n    case RECEIVE_SUBMISSIONS: {\n      const { submissions } = action;\n      return state.mergeWith(\n        (a, b) => a.concat(b),\n        submissions.reduce(\n          (map, submission) =>\n            map.update(submission.problemUrl, List(), list =>\n              list.push(submission)\n            ),\n          Map<string, List<Submission>>()\n        )\n      );\n    }\n    case CLEAR_SUBMISSIONS: {\n      return state.clear();\n    }\n    default:\n      return state;\n  }\n};\n\nconst problemsReducer = (\n  state: Map<string, Problem> = Map(),\n  action: Action\n) => {\n  switch (action.type) {\n    case RECEIVE_PROBLEMS: {\n      const { problems } = action;\n      return state.merge(problems.map(problem => [problem.url, problem]));\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nconst refineTask = (\n  task: PooledTask,\n  submissions: Map<string, List<Submission>>\n) => {\n  if (task.validUrl === null) {\n    return task;\n  }\n  const list = submissions.get(task.validUrl);\n  if (list === undefined) {\n    return task;\n  }\n  const lastJudgeAccepted = list\n    .filter(s => s.result === \"Accepted\" && s.creationTimeSecond !== null)\n    .map(s => s.creationTimeSecond)\n    .max();\n  if (lastJudgeAccepted) {\n    return { ...task, lastJudgeAccepted };\n  } else {\n    return task;\n  }\n};\n\nconst rootReducer = (state: State = initialize(), action: Action): State => {\n  console.log(action);\n  const userIds = userIdsReducer(state.userIds, action);\n  const submissions = submissionReducer(state.submissions, action);\n  const problems = problemsReducer(state.problems, action);\n  const tasks = taskReducer(state.tasks, action);\n  const refinedTasks = tasks.map(task => refineTask(task, submissions));\n  return { tasks: refinedTasks, userIds, submissions, problems };\n};\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./pages/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Provider } from \"react-redux\";\nimport rootSaga from \"./sagas\";\nimport createSagaMiddleware from \"redux-saga\";\nimport { applyMiddleware, compose, createStore } from \"redux\";\nimport rootReducer from \"./reducers\";\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n  rootReducer,\n  compose(applyMiddleware(sagaMiddleware))\n);\nsagaMiddleware.run(rootSaga);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}